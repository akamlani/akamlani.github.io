<html>
  <head>
    <title>Getting Started With PubNub</title>
  </head>
  <body>
    <script src="https://cdn.pubnub.com/pubnub.min.js"></script>
    <script charset="utf-8">
      (function(){
    
        var PUBNUB_demo = PUBNUB.init({
          publish_key: 'demo',
          subscribe_key: 'demo'
        });
        
        PUBNUB_demo.subscribe({
          channel:  'demo_tutorial',
          message:  function(m){console.log(m)},
          presence: function(m){console.log(m)},
          connect:  publish
        });
        
        function publish() {
        PUBNUB_demo.publish({
           channel: 'demo_tutorial',
           message: {"text":"Hey!"}
        });
        }
         
        //precense detection   
        PUBNUB_demo.here_now({
           channel: 'demo_tutorial',
           callback: function(m) {console.log(m)}
        });

         
         
         // get a unique uuid to use as channel name
         var channel_id = PUBNUB.uuid();
         
         
         //get history playback information
         PUBNUB_demo.where_now({
            channel: 'demo_tutorial',
            callback : function(m){console.log(m)},
            count    : 100
         });         
         
         
         //get list of channels subscribed to based on 'uuid'
         PUBNUB_demo.where_now({
            uuid     : 'my_uuid',
            callback : function(m){console.log(m)},
            error    : function(m){console.log(m)}
         });         
         

         //get state information for a particular subscriber 'uuid'
         PUBNUB_demo.state({
            channel  : "demo_tutorial",
            uuid     : "my_uuid",
            callback : function(m){console.log(m)},
            error    : function(m){console.log(m)}
         );   
            
         
         
        
      })();

    </script>
  </body>
</html>